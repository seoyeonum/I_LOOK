<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.team1.mybatis.ISitLoginDAO">

	<!-- 시터 로그인 -->
	<select id="loginCheck" resultType="com.team1.dto.SitDTO">
		SELECT 
		    R.SIT_REG_ID,
		    R.SIT_BACKUP_ID,
		    B.ID,
		    R.PW,
		    R.NAME,
		    R.SSN_FIRST,
		    R.SSN_SECOND,
		    R.ROAD_ADDR,
		    R.DETAILED_ADDR,
		    R.ZIP_CODE, 
		    R.TEL,
		    R.FILE_PATH
		FROM SIT_REG R
		JOIN SIT_BACKUP B 
		ON B.SIT_BACKUP_ID = R.SIT_BACKUP_ID
		JOIN SIT_CHK C
		ON B.SIT_BACKUP_ID = C.SIT_BACKUP_ID
		WHERE B.ID = #{id}
		    AND R.PW = #{pw}
	</select>
	
<select id="findPwByBackupId" parameterType="String" resultType="com.team1.dto.SitDTO">
    SELECT 
        PW
    FROM SIT_REG
    WHERE SIT_BACKUP_ID = #{sit_backup_id}
</select>

<select id="findById" parameterType="String" resultType="com.team1.dto.SitDTO">
    SELECT 
        B.SIT_BACKUP_ID AS sit_backup_id,
        B.ID AS id
    FROM SIT_BACKUP B
    WHERE B.ID = #{id}
</select>


</mapper>